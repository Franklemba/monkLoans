<div class="container">        
    <!-- About Section -->
    <div class="about-main">
        <div class="row">
         <div class="col-lg-6">
           <h2>Invest</h2>
           <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.</p>
           <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.</p>
           
        </div>
        <div class="col-lg-6 applyInvestmentContainer container">
            <div class="modal-dialog modal-dialog-centered">
              <div class="modal-content">
                <div class="modal-header">
                  <h5 class="modal-title" id="investmentModalLabel">Invest up to K2000</h5>
                </div>
                <div class="modal-body">
                  <form action="/investment-application" method="post">
                    <hr>
                    <div class="mb-3">
                      <label for="investmentAmount" class="form-label">How much would you like to invest?</label>
                      <input type="number" class="form-control" id="investmentAmount" name="investmentAmount" value="500" min="100" max="5000">
                    </div>
                    <div class="mb-3">
                      <label for="investmentTerm" class="form-label">Tenure (weeks):    </label>
                      <!-- <input type="number" class="form-control" id="investmentTerm" name="investmentTerm" value="1" min="1" max="4"> -->
                      <select name="investmentTerm" id="investmentTerm">
                        <option value="1">1 week</option>
                        <option value="2">2 weeks</option>
                        <option value="3">3 weeks</option>
                        <option value="4">4 weeks</option>
                     </select>
                    </div>
                    <hr>
          
                    <div class="modalBottom">
                      <div class="mb-3">
                        <label for="serviceFee" class="form-label">Commission</label>
                        <input type="text" class="form-control" id="serviceFee" name="serviceFee" value="K3.00" disabled>
                      </div>
                      <div class="mb-3">
                        <label for="expectedReturns" class="form-label">Expected Returns</label>
                        <input type="text" class="form-control" id="expectedReturns" name="expectedReturns" value="K100.00" disabled>
                      </div>
                      <div class="mb-3">
                        <label for="totalReturns" class="form-label">Total Returns</label>
                        <input type="text" class="form-control" id="totalReturns" name="totalReturns" value="K600.00" disabled>
                      </div>
                      <div class="mb-3">
                        <label for="nextPaymentDate" class="form-label">Maturity Date</label>
                        <input type="date" class="form-control" id="nextPaymentDate" name="nextPaymentDate" value="2023-10-31" disabled>
                      </div>
                    </div>
                    <hr>
                    <button type="submit" class="btn btn-primary">INVEST</button>
                  </form>
                </div>
                <div class="modal-footer">
                </div>
              </div>
            </div>
          </div>
          
        </div>
        <!-- /.row -->
        <br>
        <br>
        <div class="row">
            <div class="col-lg-6">
              <h5>Our Regulations</h5>
              <ul>
                 <li>Phasellus quis erat et enim laoreet posuere ac porttitor ipsum.</li>
                 <li>Lorem ipsum dolor sit amet, consectetur adipiscing elit.</li>                     
                 <li>Lorem ipsum dolor sit amet, consectetur adipiscing elit.</li>
                 <li>Lorem ipsum dolor sit amet, consectetur adipiscing elit.</li>
                 <li>Lorem ipsum dolor sit amet, consectetur adipiscing elit.</li>
              </ul>
           </div>
             
           </div>
    </div>
 </div>	




 <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

<script>
  $(document).ready(function () {
    // Define interest rates for different investment terms
    const interestRates = {
      1: 0.03, // 5% for a 1-week term
      2: 0.08, // 6% for a 2-week term
      3: 0.12, // 7% for a 3-week term
      4: 0.18, // 8% for a 4-week term
    };

    // Function to calculate the investment details
    function calculateInvestment() {
      const investmentAmount = parseFloat($("#investmentAmount").val());
      const investmentTerm = parseInt($("#investmentTerm").val());

      if (!isNaN(investmentAmount) && !isNaN(investmentTerm)) {
        // Calculate interest based on selected investment term
        const interestRate = interestRates[investmentTerm];
        
        // Calculate service fee (assuming a fixed fee of K3.00)
        const serviceFee = 3;
        
        // Calculate expected returns
        const expectedReturns = investmentAmount * interestRate;
        
        // Calculate total returns
        const totalReturns = investmentAmount + expectedReturns - serviceFee;
        
        // Display calculated values
        $("#serviceFee").val(`K${serviceFee.toFixed(2)}`);
        $("#expectedReturns").val(`K${expectedReturns.toFixed(2)}`);
        $("#totalReturns").val(`K${totalReturns.toFixed(2)}`);
        
        // Calculate and display next payment date (assuming 7 days per week)
        const today = new Date();
        const nextPaymentDate = new Date(today.getTime() + investmentTerm * 7 * 24 * 60 * 60 * 1000);
        const formattedDate = nextPaymentDate.toISOString().substr(0, 10);
        $("#nextPaymentDate").val(formattedDate);
      }
    }

    // Add an event listener to the investmentAmount and investmentTerm inputs
    $("#investmentAmount").on("input", calculateInvestment);
    $("#investmentTerm").on("input", calculateInvestment);

    // Calculate investment details on page load
    calculateInvestment();
  });
</script>
